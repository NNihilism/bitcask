1. logentryid如何统一且唯一
    logentryid由主节点生成，其他节点不负责生成id，因此不会出现不统一的问题。
    在生成logentryid时使用锁来进行互斥操作即可保证id唯一
    
2. 如何知道slave准备好接受全量复制?(slave->master 请求复制, master->slave 告知复制类型, slave->master 告知做好准备, master->slave 开始发送数据

3. 全量/增量复制时,如果有新的写操作怎么办? 
    全量复制时,因为bitcask没有快照功能,所以使用全局锁，来保证其他请求不对数据库内容进行操作，接着扫描所有合法的k-v,再释放全局锁。扫描出的k-v，会交由并发协程异步发送
    因此，其他写操作都会被阻塞
    在发送数据的过程中，如果又有新的数据写入，这些数据会被写入对应slave的缓冲区，待全量复制完成，再将缓冲区刷新
    刷新缓冲区的过程中又有数据写入怎么办？ 会继续写入缓冲区
    
4. 增量复制时，如果有新的写请求

. 全量复制时,如何保证没有遗漏? A:序列号递增 + 最后确认

5. 如何记录知道节点信息是否改变？  时间戳


坑
waitgroup有个nocopy字段 作为参数应该使用指针操作同一份
