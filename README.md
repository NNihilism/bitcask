# 项目介绍
该项目主要使用***Go***语言实现一个基于***batcask***的小型数据库。提供数据的增删查改功能，能够定期对归档文件进行整理。
### 可提供功能
#### 数据操作
1. String
    - Set 插入/更新单条数据
    - Delete 删除数据
    - Get 获取数据
    - SetEX 插入有时效性的数据
    - SetNX 插入不存在的数据，key已存在时操作失败
    - MSet 同时插入多条记录
    - MSetNX
    - Append 在指定key对应的value的末尾添加数据，若key不存在则等同于Set
2. 其他
#### 其他
- 文件定期归档
- 数据的crc校验
## 实现思路
### 数据存储
#### 存储类型
目前只考虑了**string**类型的存储，后续会补充**set**、**map**等类型
#### 磁盘存储
使用文件进行数据的存储，需要注意的是，由于可能会有多个用户同时进行数据库的操作，因此需要设置文件锁来进行并发处理。  
不同的数据类型需要存储在不同的*logFile*中
#### 内存存储
内存中存储的主要是一个前缀树，用来加速对记录的查找操作。分为***KeyValueMemMode***以及***KeyOnlyMemModel***两种模式，在第一个模式下，根据*key*能够直接读取到*value*，而使用后者时，只能根据*key*获取到对应的*logFileId*以及相应的*offset*,需要在磁盘中找到对应的*logFile*并读取*value*。